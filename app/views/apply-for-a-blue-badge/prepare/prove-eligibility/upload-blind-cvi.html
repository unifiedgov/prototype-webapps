{% extends "layout.html" %}
{% set hasSaveClass = 'show-save-button' %}
{% import "apply-for-a-blue-badge/macros/upload-component-new.html" as uploadComponentWidget %}

{% set pageHeading = "Upload proof of " + your + " sight impairment" %}

{% block page_title %}
  {{pageHeading}} - {% if serviceName %} {{ serviceName }} {% endif %}
{% endblock %}

{% block content %}

<div class="govuk-width-container">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      {{ govukBackLink({
          "text": "Back",
          "href": "javascript: window.history.go(-1)"
        }) 
      }}
    </div>
    <div class="govuk-grid-column-one-half">
      <p class="govuk-body save-progress-container hidden-mobile"><a href="/apply-for-a-blue-badge/progress-saved" class="save-progress-link">Save {{your}} progress</a></p>
    </div>
  </div>
  <main role="main" class="govuk-main-wrapper">

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">

        <form action="{{ formAction }}?proofOfCVI=upload">
          <input type="hidden" id="change" name="change" value="{{change}}">
          <h1 class="govuk-heading-l">{{pageHeading}}</h1>
          
          <p class="govuk-body">You need to upload a scan or photo of an official document as proof that {{you}} are registered as severely sight impaired (blind).</p>

          <p class="govuk-body">We accept the following as proof:</p>

          <ul class="govuk-list govuk-list--bullet">
            <li>Certificate of Vision Impairment (CVI) form</li>
            <li>VINCYP document (Under 16s in Scotland)</li>
            <li>BP1 form (Scotland before 2018)</li>
            <li>CVI 2003 (Before 2005)</li>
            <li>BD8 form (Before 1990)</li>
          </ul>

          {% set yesHTML %}
            <p class="govuk-body">To help you upload {{your}} document, we've created a guide on taking a photo and transferring it to the device to upload.</p>
            <p class="govuk-body">Once you've completed the guide, you'll be taken back to this page.</p>
            <p class="govuk-body"><a href="/apply-for-a-blue-badge/guidance?upload-origin-page=prove-eligibility/upload-blind-cvi">How to upload your document</a></p>
          {% endset -%}


          {{ govukRadios({
            "idPrefix": "help-uploading",
            "name": "help-uploading",
            "fieldset": {
              "legend": {
                "text": "Do you need help uploading " + your + " document?",
                "isPageHeading": false,
                "classes": 'govuk-fieldset__legend--m'
              }
            },
            "items": [
              {
                "value": "yes",
                "text": "Yes",
                "conditional": {
                  "html": yesHTML
                }
              },
              {
                "value": "no",
                "text": "No"
              }
            ]
          }) }}

          {{ uploadComponentWidget.uploadComponent(
            'proofOfCVI', 
            formAction + '?proofOfCVI=notProvided&impairment-proof-file-upload=',
            your, 
            'about how to prove ' + you + ' have a severe sight impairment', 
            change, 
            'no',
            'impairment-proof-file-upload'
          )}}

          <!-- Has save -->
        </form>

      </div>

      <div class="govuk-grid-column-one-third">

        </div>
    </div>
    <p class="govuk-body save-progress-container hidden-tablet"><a href="/apply-for-a-blue-badge/progress-saved" class="save-progress-link">Save {{your}} progress</a></p>
</main>
</div>

{% endblock %}

{% block page_scripts %}
  <script src="{{ asset_path }}javascripts/upload-file.js"></script>
{% endblock %}